{"code":"EPIPE","errno":-32,"level":"error","message":"未捕获的异常: write EPIPE","service":"vietnam-medical-backend","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:161:15)\n    at writeGeneric (node:internal/stream_base_commons:152:3)\n    at Socket._writeGeneric (node:net:958:11)\n    at Socket._write (node:net:970:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/root/越南医疗整形项目/backend/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/root/越南医疗整形项目/backend/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/root/越南医疗整形项目/backend/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-10-07 22:40:06"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use 0.0.0.0:5002","port":5002,"service":"vietnam-medical-backend","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:5002\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-07 23:01:39"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use 0.0.0.0:5002","port":5002,"service":"vietnam-medical-backend","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:5002\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-07 23:01:51"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use 0.0.0.0:5002","port":5002,"service":"vietnam-medical-backend","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:5002\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-07 23:02:02"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use 0.0.0.0:5002","port":5002,"service":"vietnam-medical-backend","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:5002\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-07 23:02:06"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use 0.0.0.0:5002","port":5002,"service":"vietnam-medical-backend","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:5002\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-07 23:02:13"}
{"level":"error","message":"生成DQA失败: Cannot read properties of undefined (reading 'toLowerCase')","service":"vietnam-medical-backend","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:76\n    at Array.some (<anonymous>)\n    at DQAGenerator.generateSpecificServiceAnswer (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:33)\n    at Object.generator (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:53:48)\n    at DQAGenerator.generateSingleDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:142:40)\n    at DQAGenerator.generateBatchDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:327:32)\n    at async DQAScheduler.executeScheduledTask (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:71:23)\n    at async Task._execution (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:37:9)","timestamp":"2025-10-11 13:15:00"}
{"level":"error","message":"批量生成DQA失败: Cannot read properties of undefined (reading 'toLowerCase')","service":"vietnam-medical-backend","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:76\n    at Array.some (<anonymous>)\n    at DQAGenerator.generateSpecificServiceAnswer (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:33)\n    at Object.generator (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:53:48)\n    at DQAGenerator.generateSingleDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:142:40)\n    at DQAGenerator.generateBatchDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:327:32)\n    at async DQAScheduler.executeScheduledTask (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:71:23)\n    at async Task._execution (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:37:9)","timestamp":"2025-10-11 13:15:00"}
{"level":"error","message":"定时DQA生成失败: Cannot read properties of undefined (reading 'toLowerCase')","service":"vietnam-medical-backend","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:76\n    at Array.some (<anonymous>)\n    at DQAGenerator.generateSpecificServiceAnswer (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:245:33)\n    at Object.generator (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:53:48)\n    at DQAGenerator.generateSingleDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:142:40)\n    at DQAGenerator.generateBatchDQA (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaGenerator.js:327:32)\n    at async DQAScheduler.executeScheduledTask (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:71:23)\n    at async Task._execution (file:///root/%E8%B6%8A%E5%8D%97%E5%8C%BB%E7%96%97%E6%95%B4%E5%BD%A2%E9%A1%B9%E7%9B%AE/backend/src/dqa/dqaScheduler.js:37:9)","timestamp":"2025-10-11 13:15:00"}
