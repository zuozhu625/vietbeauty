---
import '../styles/global.css';
import Navigation from '../components/Navigation.astro';
import StructuredData from '../components/StructuredData.astro';

export interface Props {
  title: string;
  description?: string;
  keywords?: string;
  image?: string;
  type?: 'website' | 'article';
  noindex?: boolean;
  publishedTime?: string;
  modifiedTime?: string;
  articleAuthor?: string;
}

const { 
  title, 
  description = "N·ªÅn t·∫£ng ph·∫´u thu·∫≠t th·∫©m m·ªπ chuy√™n nghi·ªáp Vi·ªát Nam - Cung c·∫•p t∆∞ v·∫•n v√† d·ªãch v·ª• ph·∫´u thu·∫≠t th·∫©m m·ªπ chuy√™n nghi·ªáp",
  keywords = "ph·∫´u thu·∫≠t th·∫©m m·ªπ Vi·ªát Nam, n√¢ng m≈©i, c·∫Øt m√≠, g·ªçt m·∫∑t, n√¢ng ng·ª±c, h√∫t m·ª°, l√†m ƒë·∫πp da, b·ªánh vi·ªán th·∫©m m·ªπ",
  image = "/images/hero.webp",
  type = "website",
  noindex = false,
  publishedTime,
  modifiedTime,
  articleAuthor = "Vi·ªát Nam L√Ω Nh√¢n Th·∫©m M·ªπ Ch·ªâ Nam"
} = Astro.props;

const SITE_URL = 'https://vietbeauty.top';
const SITE_NAME = 'Vi·ªát Nam L√Ω Nh√¢n Th·∫©m M·ªπ Ch·ªâ Nam';
const canonicalURL = new URL(Astro.url.pathname, SITE_URL).href;
const ogImage = new URL(image, SITE_URL).href;

// Á°Æ‰øùÁîü‰∫ßÁéØÂ¢É‰∏çË¢´Á¥¢ÂºïÈóÆÈ¢òÔºàÈÅøÂÖçÂùë4Ôºâ
const isProduction = import.meta.env.PROD || process.env.NODE_ENV === 'production';
---

<!DOCTYPE html>
<html lang="vi">
  <head>
    <!-- Âü∫Á°Ä Meta Ê†áÁ≠æ -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    
    <!-- SEO Meta Ê†áÁ≠æ -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Robots MetaÔºàÈÅøÂÖçÂùë4 - Á°Æ‰øùÁîü‰∫ßÁéØÂ¢ÉÂèØË¢´Á¥¢ÂºïÔºâ -->
    {noindex || !isProduction ? (
      <meta name="robots" content="noindex, nofollow" />
    ) : (
      <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    )}
    
    <!-- ÁßªÂä®Á´Ø‰ºòÂåñ -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content={SITE_NAME} />
    <meta name="format-detection" content="telephone=yes" />
    <meta name="theme-color" content="#ec4899" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={type} />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content={title} />
    <meta property="og:site_name" content={SITE_NAME} />
    <meta property="og:locale" content="vi_VN" />
    {type === 'article' && publishedTime && (
      <meta property="article:published_time" content={publishedTime} />
    )}
    {type === 'article' && modifiedTime && (
      <meta property="article:modified_time" content={modifiedTime} />
    )}
    {type === 'article' && (
      <meta property="article:author" content={articleAuthor} />
    )}
    <meta property="fb:app_id" content="YOUR_FB_APP_ID" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@vietbeauty" />
    <meta name="twitter:creator" content="@vietbeauty" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    <meta name="twitter:image:alt" content={title} />
    
    <!-- Âú∞ÁêÜ‰ΩçÁΩÆÂíåËØ≠Ë®Ä -->
    <meta name="geo.region" content="VN" />
    <meta name="geo.placename" content="Vietnam" />
    <meta name="geo.position" content="10.8231;106.6297" />
    <meta name="ICBM" content="10.8231, 106.6297" />
    <meta name="language" content="vi" />
    <meta name="content-language" content="vi-VN" />
    
    <!-- Additional SEO -->
    <meta name="author" content={articleAuthor} />
    <meta name="publisher" content={SITE_NAME} />
    <meta name="copyright" content={`¬© ${new Date().getFullYear()} ${SITE_NAME}`} />
    <meta name="rating" content="general" />
    <meta name="distribution" content="global" />
    <meta name="revisit-after" content="7 days" />
    <meta name="coverage" content="Worldwide" />
    <meta name="target" content="all" />
    <meta name="audience" content="all" />
    
    <!-- ËÅîÁ≥ªÊñπÂºèÁªìÊûÑÂåñÊï∞ÊçÆ -->
    <meta name="contact" content="qikaka625@gmail.com" />
    <meta name="reply-to" content="qikaka625@gmail.com" />
    
    <!-- ÂàÜÁ±ªÂíå‰∏ªÈ¢ò -->
    <meta name="category" content="Health & Beauty" />
    <meta name="subject" content="Ph·∫´u thu·∫≠t th·∫©m m·ªπ Vi·ªát Nam" />
    
    <!-- Favicon ÂíåÂõæÊ†á -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon.svg" />
    <link rel="mask-icon" href="/favicon.svg" color="#ec4899" />
    <link rel="shortcut icon" href="/favicon.svg" />
    
    <!-- Manifest -->
    <link rel="manifest" href="/site.webmanifest" />
    
    <!-- DNS Prefetch for Performance -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Alternate Languages (ÂèØÊ†πÊçÆÈúÄË¶ÅÊ∑ªÂä†ÂÖ∂‰ªñËØ≠Ë®ÄÁâàÊú¨) -->
    <link rel="alternate" hreflang="vi-VN" href={canonicalURL} />
    <link rel="alternate" hreflang="vi" href={canonicalURL} />
    <link rel="alternate" hreflang="x-default" href={SITE_URL} />
    
    <!-- RSS Feed (Â¶ÇÊûúÊúâÁöÑËØù) -->
    <!-- <link rel="alternate" type="application/rss+xml" title={SITE_NAME} href={`${SITE_URL}/rss.xml`} /> -->
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta name="referrer" content="strict-origin-when-cross-origin" />
    
    <!-- Custom Head Content -->
    <slot name="head" />
    
    <!-- ÁªìÊûÑÂåñÊï∞ÊçÆ -->
    <StructuredData type="website" />
    <StructuredData type="organization" />
    
    <!-- Fonts -->
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    </style>
  </head>
  <body class="bg-cursor-bg min-h-screen font-inter">
    <!-- ÂØºËà™Ê†è -->
    <Navigation />

    <!-- ‰∏ªË¶ÅÂÜÖÂÆπ -->
    <main class="pt-16">
      <slot />
    </main>

    <!-- È°µËÑö -->
    <footer class="bg-black/30 backdrop-blur-md border-t border-white/10 mt-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- ÂìÅÁâå‰ªãÁªç -->
          <div>
            <h3 class="text-xl font-bold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mb-4 leading-tight">
              Vi·ªát Nam L√Ω Nh√¢n<br>Th·∫©m M·ªπ Ch·ªâ Nam
            </h3>
            <p class="text-white/70 text-sm leading-relaxed">
              N·ªÅn t·∫£ng th·∫©m m·ªπ uy t√≠n #1 Vi·ªát Nam, cung c·∫•p t∆∞ v·∫•n chuy√™n nghi·ªáp, th√¥ng tin b·ªánh vi·ªán ƒë√°ng tin c·∫≠y v√† h∆∞·ªõng d·∫´n d·ªãch v·ª• t·∫≠n t√¨nh.
            </p>
          </div>
          
          <!-- Âø´ÈÄüÈìæÊé• -->
          <div>
            <h4 class="text-white font-semibold mb-4">Li√™n k·∫øt nhanh</h4>
            <ul class="space-y-2">
              <li><a href="/" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Trang ch·ªß</a></li>
              <li><a href="/sharing" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Chia s·∫ª ng∆∞·ªùi d√πng</a></li>
              <li><a href="/knowledge" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">H·ªèi ƒë√°p</a></li>
              <li><a href="/reviews" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Gi·ªõi thi·ªáu b·ªánh vi·ªán</a></li>
              <li><a href="/services" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">N·ªôi dung d·ªãch v·ª•</a></li>
              <li><a href="/contact" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Li√™n h·ªá</a></li>
            </ul>
          </div>
          
          <!-- ËÅîÁ≥ª‰ø°ÊÅØ -->
          <div>
            <h4 class="text-white font-semibold mb-4">Th√¥ng tin li√™n h·ªá</h4>
            <ul class="space-y-2 text-white/70 text-sm">
              <li class="flex items-center gap-2">
                <span>üìû</span>
                <span>Hotline: +84 921000789</span>
              </li>
              <li class="flex items-center gap-2">
                <span>üìß</span>
                <span>qikaka625@gmail.com</span>
              </li>
              <li class="flex items-center gap-2">
                <span>üí¨</span>
                <span>WeChat: HoneyT09</span>
              </li>
              <li class="flex items-center gap-2">
                <span>üè¢</span>
                <span>TP.HCM, H√† N·ªôi, ƒê√† N·∫µng</span>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="border-t border-white/10 mt-8 pt-8 text-center">
          <p class="text-white/60 text-sm">
            &copy; 2025 Vi·ªát Nam L√Ω Nh√¢n Th·∫©m M·ªπ Ch·ªâ Nam. B·∫£o l∆∞u m·ªçi quy·ªÅn.
          </p>
          <p class="text-white/40 text-xs mt-2">
            <a href="https://vietbeauty.top" class="hover:text-pink-400 transition-colors">vietbeauty.top</a>
          </p>
        </div>
      </div>
    </footer>

    <style>
      .font-inter {
        font-family: 'Inter', sans-serif;
      }
      
      /* Ëá™ÂÆö‰πâÊªöÂä®Êù° */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.1);
      }
      
      ::-webkit-scrollbar-thumb {
        background: rgba(59, 130, 246, 0.5);
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: rgba(59, 130, 246, 0.7);
      }
    </style>
  </body>
</html>