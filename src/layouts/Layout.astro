---
import '../styles/global.css';
import Navigation from '../components/Navigation.astro';
import StructuredData from '../components/StructuredData.astro';

export interface Props {
  title: string;
  description?: string;
  keywords?: string;
  image?: string;
  type?: 'website' | 'article';
  noindex?: boolean;
}

const { 
  title, 
  description = "Ná»n táº£ng pháº«u thuáº­t tháº©m má»¹ chuyÃªn nghiá»‡p Viá»‡t Nam - Cung cáº¥p tÆ° váº¥n vÃ  dá»‹ch vá»¥ pháº«u thuáº­t tháº©m má»¹ chuyÃªn nghiá»‡p",
  keywords = "pháº«u thuáº­t tháº©m má»¹ Viá»‡t Nam, nÃ¢ng mÅ©i, cáº¯t mÃ­, gá»t máº·t, nÃ¢ng ngá»±c, hÃºt má»¡, lÃ m Ä‘áº¹p da, bá»‡nh viá»‡n tháº©m má»¹",
  image = "/images/hero.webp",
  type = "website",
  noindex = false
} = Astro.props;

const SITE_URL = 'https://vietbeauty.top';
const canonicalURL = new URL(Astro.url.pathname, SITE_URL).href;
const ogImage = new URL(image, SITE_URL).href;

// ç¡®ä¿ç”Ÿäº§ç¯å¢ƒä¸è¢«ç´¢å¼•é—®é¢˜ï¼ˆé¿å…å‘4ï¼‰
const isProduction = import.meta.env.PROD || process.env.NODE_ENV === 'production';
---

<!DOCTYPE html>
<html lang="vi">
  <head>
    <!-- åŸºç¡€ Meta æ ‡ç­¾ -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    
    <!-- SEO Meta æ ‡ç­¾ -->
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Robots Metaï¼ˆé¿å…å‘4 - ç¡®ä¿ç”Ÿäº§ç¯å¢ƒå¯è¢«ç´¢å¼•ï¼‰ -->
    {noindex || !isProduction ? (
      <meta name="robots" content="noindex, nofollow" />
    ) : (
      <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    )}
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content={type} />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Viá»‡t Nam LÃ½ NhÃ¢n Tháº©m Má»¹ Chá»‰ Nam" />
    <meta property="og:locale" content="vi_VN" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    
    <!-- Additional SEO -->
    <meta name="author" content="Viá»‡t Nam LÃ½ NhÃ¢n Tháº©m Má»¹ Chá»‰ Nam" />
    <meta name="language" content="Vietnamese" />
    <meta name="geo.region" content="VN" />
    <meta name="geo.placename" content="Vietnam" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.svg" />
    
    <!-- DNS Prefetch for Performance -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    
    <!-- Custom Head Content -->
    <slot name="head" />
    
    <!-- ç»“æ„åŒ–æ•°æ® -->
    <StructuredData type="website" />
    <StructuredData type="organization" />
    
    <!-- Fonts -->
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    </style>
  </head>
  <body class="bg-cursor-bg min-h-screen font-inter">
    <!-- å¯¼èˆªæ  -->
    <Navigation />

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="pt-16">
      <slot />
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-black/30 backdrop-blur-md border-t border-white/10 mt-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <!-- å“ç‰Œä»‹ç» -->
          <div>
            <h3 class="text-xl font-bold bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 bg-clip-text text-transparent mb-4 leading-tight">
              Viá»‡t Nam LÃ½ NhÃ¢n<br>Tháº©m Má»¹ Chá»‰ Nam
            </h3>
            <p class="text-white/70 text-sm leading-relaxed">
              Ná»n táº£ng tháº©m má»¹ uy tÃ­n #1 Viá»‡t Nam, cung cáº¥p tÆ° váº¥n chuyÃªn nghiá»‡p, thÃ´ng tin bá»‡nh viá»‡n Ä‘Ã¡ng tin cáº­y vÃ  hÆ°á»›ng dáº«n dá»‹ch vá»¥ táº­n tÃ¬nh.
            </p>
          </div>
          
          <!-- å¿«é€Ÿé“¾æ¥ -->
          <div>
            <h4 class="text-white font-semibold mb-4">LiÃªn káº¿t nhanh</h4>
            <ul class="space-y-2">
              <li><a href="/" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Trang chá»§</a></li>
              <li><a href="/sharing" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Chia sáº» ngÆ°á»i dÃ¹ng</a></li>
              <li><a href="/knowledge" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Há»i Ä‘Ã¡p</a></li>
              <li><a href="/reviews" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Giá»›i thiá»‡u bá»‡nh viá»‡n</a></li>
              <li><a href="/services" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">Ná»™i dung dá»‹ch vá»¥</a></li>
              <li><a href="/contact" class="text-white/70 hover:text-pink-400 transition-colors duration-300 text-sm">LiÃªn há»‡</a></li>
            </ul>
          </div>
          
          <!-- è”ç³»ä¿¡æ¯ -->
          <div>
            <h4 class="text-white font-semibold mb-4">ThÃ´ng tin liÃªn há»‡</h4>
            <ul class="space-y-2 text-white/70 text-sm">
              <li class="flex items-center gap-2">
                <span>ğŸ“</span>
                <span>Hotline: +84 921000789</span>
              </li>
              <li class="flex items-center gap-2">
                <span>ğŸ“§</span>
                <span>qikaka625@gmail.com</span>
              </li>
              <li class="flex items-center gap-2">
                <span>ğŸ’¬</span>
                <span>WeChat: HoneyT09</span>
              </li>
              <li class="flex items-center gap-2">
                <span>ğŸ¢</span>
                <span>TP.HCM, HÃ  Ná»™i, ÄÃ  Náºµng</span>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="border-t border-white/10 mt-8 pt-8 text-center">
          <p class="text-white/60 text-sm">
            &copy; 2025 Viá»‡t Nam LÃ½ NhÃ¢n Tháº©m Má»¹ Chá»‰ Nam. Báº£o lÆ°u má»i quyá»n.
          </p>
          <p class="text-white/40 text-xs mt-2">
            <a href="https://vietbeauty.top" class="hover:text-pink-400 transition-colors">vietbeauty.top</a>
          </p>
        </div>
      </div>
    </footer>

    <style>
      .font-inter {
        font-family: 'Inter', sans-serif;
      }
      
      /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
      ::-webkit-scrollbar {
        width: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.1);
      }
      
      ::-webkit-scrollbar-thumb {
        background: rgba(59, 130, 246, 0.5);
        border-radius: 4px;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: rgba(59, 130, 246, 0.7);
      }
    </style>
  </body>
</html>